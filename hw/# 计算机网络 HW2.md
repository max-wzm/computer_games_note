# 计算机网络 HW2

<center> 200110611 王志铭 </center>

## 

Since $G=10011 \to r = 4$, so $R=\text{remainder}\left[ \frac{D\ll 4}{G} \right]=D\ll 4\%G$, 其中%定义为二进制模。

(1). If $D=1010101010$, then

$$
R =D\ll 4\%G =1010101010{\color{blue}0000}\%10011=0100\quad
\to\quad<D,R>=1010101010{\color{red}0100}.
$$

(2). If $D=1010100000$, then

$$
R =D\ll 4\%G =1010100000{\color{blue}0000}\%10011=1001\quad
\to\quad <D,R>=1010100000{\color{red}1001}.
$$

(3). For $<D,R>=0101101010{\color{blue}1001},\to\quad <D,R>\%G=0110\ne0$

因此发生了差错😵。

(4). For $<D,R>=1001010101{\color{blue}0000},  \to\quad <D,R>\%G=0$

因此没有发生差错😄。

## 

(1). 第5次连续冲突后，$n = \min \left\{  5,10\right\}=5. $ 则$K=4$的概率为：

$$
p(K=4)=1/2^n=1/32.
$$

则此时需要等待 $K\cdot 512=2Kb$ 的传输延迟时间，即

$$
t = \frac{2Kb}{10Mb/s}=0.2ms.
$$

(2). 如果连续第12次冲突🥺，则 $n=\min \left\{ 12,10 \right\} =10$. 则：

$$
K_{max}=2^n-1=1023\\
t_{max}=\frac{1023\times 512b}{10Mb/s}=51.15ms.
$$

##

(1).

- 两台主机同时发送数据时，经过时间最短。
  $$
  t=\frac{1km}{200,000km/s}\times 2=0.01ms.
  $$
- 一台主机先发送数据，即将到达时另一台再发送，经过时间最长。
  $$
  t=\frac{2km}{200,000km/s}\times 2=0.02ms.
  $$

(2). 不考虑🙈前导码，则标准最长以太网帧的长度为1518B，其中有效数据为1500B。

发送一数据帧需要 $1518B/10Mbps=1.2144ms$, 发送确认帧需要 $64B/10Mbps=0.05ms$. 数据帧和确认帧的传播时间都是 $\frac{2km}{200,000km/s}=0.01ms$. 因此总的传输时间是

$$
t = 1.2144+0.05+0.01+0.01\ ms=1.2844ms\\
\to R=\frac{1500B}{1.2844ms}=9.343Mbps.
$$

## 

(1).  During $t_0\sim t_1$, 乙方最后发送了R3,3，则甲方可以判断乙方已经接收3帧。

正确接收🫡：S0,0 | S1,0 | S2,0.

(2). 甲方最后收到了R3,3，表明乙方已经对0～2进行了确认。

所以甲方已发送但未被确认的有S3,0 | S4,1.
序号字段有3bit，因此窗口大小为7. 故甲方还能发送5个。

由于甲方还没收到R2，因此不会确认R3,3. 
故甲方发送💃：S5,2 | S6,2 | S7,2 | S0,2 | S1,2.

(3). S2,0超时，则甲方需要重传从2～4的帧。也就是3个帧。

目前确认接收R2,2，于是3帧为：
S2,3 | S3,3 | S4,3.

(4). 由于采用捎带确认，数据帧和确认帧的时延为：

$$
t_{Seg} = t_{ACK} = 1000B/100Mbps=0.08 ms
$$

另有：$W_s=7, RTT=0.96ms$, 于是

$$
U = \frac{W_s\times t_{Seg}}{t_{Seg}+RTT+t_{ACK}}=\frac{7\times 0.08}{0.16+0.96}= 50\%.
$$

